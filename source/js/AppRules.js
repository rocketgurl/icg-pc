// Generated by CoffeeScript 1.3.3
(function() {

  define(['jquery', 'underscore'], function($, _) {
    var AppRules;
    return AppRules = (function() {

      AppRules.prototype.default_module = 'TestModule';

      function AppRules(app) {
        this.app = app;
        if (this.app.params != null) {
          this.default_module = app.params.pcModule || 'TestModule';
          this.check_rules(this.app);
        } else {
          this.default_module = this.which_module(this.app);
          console.log(this.default_module);
        }
      }

      AppRules.prototype.which_module = function(app) {
        var app_name;
        if (app.app != null) {
          app_name = this.get_app_name(app.app);
        } else {
          this.default_module;
        }
        switch (app_name) {
          case "policies":
            return 'SearchModule';
          case "rulesets":
            return 'Rulesets';
          default:
            return 'TestModule';
        }
      };

      AppRules.prototype.get_app_name = function(app_name) {
        if (app_name.indexOf('_' >= 0)) {
          return app_name.split('_')[0];
        } else {
          return app_name;
        }
      };

      AppRules.prototype.check_rules = function(app) {};

      AppRules.prototype.rules_parse = function(app_name) {};

      return AppRules;

    })();
  });

}).call(this);
